<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Admin Access â€¢ CurbEase</title>
<style>
  :root{ --ink:#0f172a; --bg:#0b1223; --panel:#fff; --border:#e2e8f0; --blue:#2563eb; }
  *{ box-sizing:border-box }
  body{ margin:0; background:var(--bg); color:var(--ink); font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; min-height:100vh; display:flex; align-items:center; justify-content:center; }
  .card{ background:var(--panel); border:1px solid var(--border); border-radius:14px; width:min(92vw,420px); padding:18px 16px; box-shadow:0 10px 30px rgba(0,0,0,.25) }
  h1{ font-size:20px; margin:0 0 10px 0 }
  p{ margin:0 0 12px 0; color:#475569 }
  input{ width:100%; padding:10px 12px; border:1px solid #cbd5e1; border-radius:8px; font-size:16px; outline:none }
  .row{ display:flex; gap:8px; margin-top:12px; justify-content:flex-end }
  button{ padding:10px 12px; border-radius:8px; cursor:pointer }
  .cancel{ border:1px solid #cbd5e1; background:#fff }
  .enter{ border:1px solid var(--blue); background:var(--blue); color:#fff }
  .err{ color:#dc2626; font-size:13px; margin-top:10px; display:none }
</style>
</head>
<body>
  <div class="card" role="dialog" aria-modal="true" aria-label="Admin access">
    <h1>Admin Access</h1>
    <p>Enter password to view the dashboard.</p>
    <form id="pw-form" onsubmit="return unlockSubmit(event)">
      <input id="pw-input" type="password" placeholder="Password" autocomplete="current-password" autofocus>
      <div class="row">
        <button type="button" id="pw-cancel" type="button" onclick="return pwCancel()" class="cancel">Cancel</button>
        <button type="submit" id="pw-submit" type="submit" onclick="return unlockSubmit(event)" class="enter">Enter</button>
      </div>
      <div id="pw-error" class="err">Incorrect password. Try again.</div>
    </form>
  </div>
<script>
(function(){
  var PASS = "AmwTrw@2425";
  var form = document.getElementById('pw-form');
  var input = document.getElementById('pw-input');
  var err = document.getElementById('pw-error');

  window.unlockSubmit = function(e){
    try{ if(e) e.preventDefault(); }catch(x){}
    var v = (input && typeof input.value==="string") ? input.value.trim() : "";
    if (v === PASS){
      try { sessionStorage.setItem('ce_admin_ok','1'); } catch(x){}
      location.replace('/admin-app.html?token=curbease-ok-2425');
      return false;
    } else {
      if(err) err.style.display='block';
      if(input){ input.value=''; input.focus(); }
      return false;
    }
  };
  window.pwCancel = function(){
    location.href = '/';
    return false;
  };
  // Attach listeners as backup
  try{ if(form) form.addEventListener('submit', unlockSubmit); }catch(x){}
})();
</script>
</body>
</html>
