<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin Dashboard</title>
  <style>
    :root {
      --bg:#0b1220; --panel:#0f1a2f; --line:#1b2a45;
      --text:#e6eefc; --muted:#9bb0d3; --accent:#4cc38a; --error:#ff6b6b;
    }
    * { box-sizing: border-box; }
    body { margin:0; padding:32px; background:var(--bg); color:var(--text); font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; }
    .wrap { max-width:1100px; margin:0 auto; background:var(--panel); border:1px solid var(--line); border-radius:12px; }
    header { display:flex; gap:12px; align-items:center; padding:16px 20px; border-bottom:1px solid var(--line); flex-wrap:wrap; }
    h1 { font-size:18px; margin:0; }
    input[type="search"] { background:#0b1324; color:var(--text); border:1px solid var(--line); border-radius:10px; padding:8px 10px; min-width:240px; }
    button { background:#152445; color:var(--text); border:1px solid var(--line); padding:8px 12px; border-radius:10px; cursor:pointer; }
    button:hover { background:#1a2e57; }
    .chip { padding:6px 10px; border:1px solid var(--line); border-radius:999px; color:var(--muted); background:#0b1324; }
    .ok { color:var(--accent); }
    .bad { color:var(--error); }
    main { padding: 14px 20px 24px; }
    table { width:100%; border-collapse:collapse; }
    th,td { padding:10px 8px; border-bottom:1px solid var(--line); vertical-align:top; }
    th { color:#a8bee8; text-align:left; }
    tbody tr:hover { background:#0e1830; }
    .muted { color:var(--muted); }
    .hidden { display:none; }
    .msg { padding:10px 12px; border:1px solid var(--line); border-radius:8px; background:#0b1324; margin:10px 0; }
    .msg.error { border-color:#4b1b1b; background:#1b0f10; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Admin Dashboard</h1>
      <span id="authChip" class="chip">checking access…</span>
      <div style="margin-left:auto; display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
        <input id="search" type="search" placeholder="Search rows…" />
        <button id="refreshBtn">Refresh</button>
        <button id="openBtn">Open CSV</button>
      </div>
    </header>
    <main>
      <div id="note" class="muted">Tip: bookmark this page with the <code>?token=…</code> parameter. Data source is a Google Sheet “Publish to web” CSV.</div>
      <div id="errorBox" class="msg error hidden"></div>
      <div class="msg" id="debugBox" style="white-space:pre-wrap;"></div>
      <table id="grid" class="hidden">
        <thead id="thead"></thead>
        <tbody id="tbody"></tbody>
      </table>
    </main>
  </div>
  <script>window.__CSV_URL__ = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vShSt84sllgBrJ6wOpq9AoRAMCbS5bJBuexFnJuSP1xxlKYDci_J-E3hJJJLPt9a098VonUbhOJEWB0/pub?output=csv'; window.__TOKEN__ = 'curbease-ok-2425';</script>
  <script src="./admin-app.js?v=3"></script>
</body>
</html>
